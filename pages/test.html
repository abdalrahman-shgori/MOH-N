<!DOCTYPE html>
<html lang="ar">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./css/nav.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <link rel="stylesheet" href="../css/totalResult.css">
    <script src="https://apis.google.com/js/api.js"></script>

</head>

<body>
    <!-- <div id="navbar-container"></div> -->

    <div id="total" class="totalResult">
    </div>
   
      

    <div id="footer"></div>
    <script>
        window.onload = () => {
            function initClient() {
                gapi.client.init({
                    clientId: '831010665054-18pkq0jo07jcl72r3kg1lupei18fc8hl.apps.googleusercontent.com',
                    discoveryDocs: ["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],
                    scope: 'https://www.googleapis.com/auth/calendar',
                    cookiepolicy: 'single_host_origin',
                    plugin_name: 'hello'
                });
            }
    
            gapi.load('client:auth2', initClient);
    
            function handleAuthClick() {
                gapi.auth2.getAuthInstance().signIn().then((res) => {
                    document.getElementById('button').click();
                });
            }
    
            // ADD EVENTS FUNCTION
            document.getElementById('button').addEventListener('click', function () {
                // Dummy events
                var events = [
                    {
                        'summary': 'mhmd wedding',
                        'location': 'Online',
                        'description': 'Meeting to discuss project status and next steps.',
                        'start': {
                            'dateTime': '2023-10-29T09:00:00-07:00',
                            'timeZone': 'America/Los_Angeles'
                        },
                        'end': {
                            'dateTime': '2023-10-29T10:00:00-07:00',
                            'timeZone': 'America/Los_Angeles'
                        },
                        'recurrence': [
                            'RRULE:FREQ=WEEKLY;UNTIL=20231201T000000Z'
                        ],
                        'attendees': [
                            { 'email': 'example1@example.com' },
                            { 'email': 'example2@example.com' }
                        ],
                        'reminders': {
                            'useDefault': false,
                            'overrides': [
                                { 'method': 'email', 'minutes': 24 * 60 },
                                { 'method': 'popup', 'minutes': 10 }
                            ]
                        }
                    },
                
                ];
    
                events.forEach(function (event) {
                    gapi.client.calendar.events.insert({
                        'calendarId': 'primary',
                        'resource': event
                    }).then(function (response) {
                        console.log('Event created: ' + response.result.htmlLink);
                    }).catch((err) => {
                        if (err.status === 401) {
                            handleAuthClick();
                        }
                    });
                });
            });
        }
    </script>
    
    <script src="../js/includeNav.js"></script>
    <script src="../js/nav.js"></script>
    <script>
        const totalValue = localStorage.getItem('totalValue');
        const theName = localStorage.getItem('userName');
        console.log('Total Value:', totalValue);
        console.log('name:', theName);

        // localStorage.removeItem('totalValue');
        document.getElementById("total").innerHTML = (`Your Total value is ${totalValue}`)
    </script>
    <script>
        const resultsContainer = document.getElementById('total');
        let html = `
        <div>
            <div class="RateImg">
                ${totalValue >= 30 ? '<img class="imgRate" src="../assets/images/5.svg"/>' :
                totalValue >= 18 ? '<img class="imgRate" src="../assets/images/4.svg"/>' :
                    totalValue >= 6 ? '<img class="imgRate" src="../assets/images/3.svg"/>' :
                        totalValue >= 2 ? '<img class="imgRate" src="../assets/images/2.svg"/>' :
                            totalValue < 2 ? '<img class="imgRate" src="../assets/images/1.svg"/>' : ''
            }
            </div>
            <div class="userName">
                
                ${totalValue >= 2 ? `<p class="nameText">${theName}</p>&nbsp; ,<p class="nameText" data-translate="congra"> تهانينا</p>` : ` <p class="nameText">${theName}</p>&nbsp; ,<p class="nameText" data-translate="Unfortunately">للاسف</p> `}
                </div>
                <div class="rate">
                    ${totalValue >= 30 ? '<p class="rateText" data-translate="professional">أنت محترف</p>' :
                totalValue >= 18 ? '<p class="rateText" data-translate="youareDriven">أنت منطلق </p>' :
                    totalValue >= 6 ? '<p class="rateText" data-translate="youareInitiator"> أنت بادي</p>' :
                        totalValue >= 2 ? '<p class="rateText" data-translate="youareIntending">أنت ناوي </p>' :
                            totalValue < 2 ? '<p class="rateText" data-translate="youhavePassiveBehavior">أنت صاحب سلوك خامل </p>' : ''
            }                </div>
                <div class="rate">
                    ${totalValue >= 30 ? '<p class="titleText" data-translate="yourCommitmentSetsAnExample">التزامك يضرب به المثل</p>' :
                totalValue >= 18 ? '<p class="titleText" data-translate="youTakeOffLikeARocketAndKeepWalking">انطلاقك مثل الصاروخ لا تتوقف عن المشي</p>' :
                    totalValue >= 6 ? '<p class="titleText" data-translate="butThereAreAFewSteps"> لكن تتبقى خطوات بسيطة وتكون مستمراً.</p>' :
                        totalValue >= 2 ? '<p class="titleText" data-translate="butYouNeedAStarting">لكن تحتاج خطةً للبدء ليصبح سلوكك مستمراً</p>' :
                            totalValue < 2 ? '<p class="titleText" data-translate="andYouHaven">ولم تكتسب السوك بعد</p>' : ''
            }               
                </div>
                <div class="RateCharacterImg">
                ${totalValue >= 30 ? '<img class="imgRateCharactar" src="../assets/images/character1.svg"/>' :
                totalValue >= 18 ? '<img class="imgRateCharactar" src="../assets/images/character2.svg"/>' :
                    totalValue >= 6 ? '<img class="imgRateCharactar" src="../assets/images/character3.svg"/>' :
                        totalValue >= 2 ? '<img class="imgRateCharactar" src="../assets/images/character4.svg"/>' :
                            totalValue < 2 ? '<img class="imgRateCharactar" src="../assets/images/character5.svg"/>' : ''
            }
            </div>
                
                <div class='rate descriptionTextGroup col-lg-8 mx-auto'>
                    ${totalValue >= 30 ? '<p class="descriptionText" data-translate="stage1">يتميز الأشخاص في هذه المرحلة بأنهم قدوة لمن حولهم لديهم العزم والقدرة على الوصول والاستمرار على تحقيق أهدافهم فهم رياضيون ومثابرون على المشي. واصل على ما أنت عليه وكن قدوة لمن حولك.</p>' :
                totalValue >= 18 ? '<p class="descriptionText" data-translate="stage2">يتميز الأشخاص في هذه المرحلة بسهولة التكيف. فهم منطلقون بممارسة المشي ومستمرون عليه. ولكن عليهم الآن المحافظة عليه كسلوك حياة دائم. واصل على ما أنت عليه وكن قدوة لمن حولك.</p>' :
                    totalValue >= 6 ? '<p class="descriptionText" data-translate="stage3"> يتميز الأشخاص في هذه المرحلة بإرادة قوية في اتخاذ القرار وبدأوا بالفعل في ممارسة المشي، لكن قد يحتاجون إلى تحويل هذه العادة إلى سلوك مستمر. أنت على الطريق الصحيح، ويمكنك الوصول لهدفك!</p>' :
                        totalValue >= 2 ? '<p class="descriptionText" data-translate="stage4">يتميز الأشخاص في هذه المرحلة ببوعي كافٍ وإرادة قوية للبدء بممارسة المشي، لكن قد يعوقهم أي سبب. لذلك جهزنا لك خطةً وبرنامجًا ماملاً لمساعدتك</p>' :
                            totalValue < 2 ? '<p class="descriptionText" data-translate="stage5">الأشخاص في هذه المرحلة عندهم الرغبة في التغيير لكن من السهل عليهم اختلاق الأعذار. عليك مواجهة تلك الأعذار بأسباب تحفزك للوصول إلى هدفك. ابدأ الآن بالتغيير، وتحد نفسك، واستمر في الحفاظ على صحتك.</p>' : ''
            } 
                    </div>

                    <div class="rate calendarPdf">
                        <button id="button" class="addCalendarBtn">تحميل التذكيرات على تقويم جوالك</button>
                        <a href="${totalValue >= 30 ? '../assets/pdf/pdf5.pdf' :
                             totalValue >= 18 ? '../assets/pdf/pdf4.pdf' :
                            totalValue >=6 ? '../assets/pdf/pdf3.pdf' : 
                            totalValue >=2 ? '../assets/pdf/pdf2.pdf' : 
                            totalValue < 2 ? '../assets/pdf/pdf1.pdf' : ""
                            }" download>
<button class="downloadPdfBtn">الاطلاع على الدليل الخاص بمرحلتك</button>
</a>

                        </div>



        </div>
    
    `;
        resultsContainer.innerHTML = html;
    </script>

</body>

</html>